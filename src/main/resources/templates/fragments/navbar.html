<!-- Google Fonts: Montserrat -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">

<!-- Font Awesome per icone -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

<!-- Navbar -->
<nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-dark custom-navbar">
    <div class="container-fluid">
        <!-- Logo e telefono -->
        <div class="d-flex align-items-center">
            <img src="https://i.imgur.com/mYm8eGJ.png" style="width:125px;height:125px;" alt="logo" class="logo">

            <div class="d-flex align-items-center ms-3 phone-info" onclick="window.location.href='tel:+393287090014'">
                <i class="fas fa-phone me-2"></i>
                <span class="phone-text">+39 081 8293363 24 su 24 ore per 365 giorni</span>
            </div>
        </div>

        <!-- Hamburger -->
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                aria-controls="offcanvasNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Offcanvas menu -->
        <div class="offcanvas offcanvas-end custom-offcanvas" tabindex="-1" id="offcanvasNavbar"
             aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Just Traditions</h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
            </div>

            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3 mb-2 mb-lg-0">

                <!-- Home -->
                <li class="nav-item my-auto" style="width: 6rem;">
                    <a class="nav-link" href="/">Home</a>
                </li>

                <!-- Annunci -->
                <li class="nav-item my-auto" style="width: 6rem;">
                    <a class="nav-link" href="/ricercaAnnunci">Annunci</a>
                </li>

                <!-- Chi siamo -->
                <li class="nav-item my-auto" style="width: 8rem;">
                    <a class="nav-link" href="/chisiamo">Chi siamo?</a>
                </li>

                <!-- Dropdown impostazioni se cliente loggato -->
                <li th:if="${cliente != null}" class="nav-item dropdown my-auto" style="width: 6rem;">
                    <a class="nav-link dropdown-toggle btn btn-outline-gold" href="#" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <em class="fa fa-gear"></em>
                    </a>
                    <ul class="dropdown-menu custom-dropdown">
                        <li><a class="dropdown-item" href="/visualizzazioneProfiloPersonale">Area Personale</a></li>
                        <li><a class="dropdown-item" href="/logout">Logout</a></li>
                    </ul>
                </li>

                <!-- Login se cliente non loggato -->
                <li th:if="${cliente == null}" class="nav-item my-auto" style="width: 6rem;">
                    <a href="/login" class="btn btn-outline-gold">Login</a>
                </li>

            </ul>
        </div>
    </div>
</nav>

<!-- Stile personalizzato -->
<style>
    /* Font globale per navbar */
    .custom-navbar {
        background-color: #013220 !important;
        color: #FFD700;
        font-family: 'Montserrat', sans-serif;
    }

    /* Logo */
    .logo {
        cursor: default;
    }

    /* Telefono vicino al logo */
    .phone-info {
        color: #FFD700;
        font-weight: 500;
        font-size: 0.95rem;
        white-space: nowrap;
        cursor: pointer;
        transition: color 0.3s ease;
    }

    .phone-info:hover {
        color: #ffffff;
    }

    .phone-info .fa-phone {
        color: #FFD700;
        font-size: 1rem;
    }

    .phone-info .phone-text {
        color: #FFD700;
    }

    /* Testo link navbar */
    .custom-navbar .nav-link {
        color: #FFD700 !important;
        font-weight: 500;
        transition: color 0.3s ease;
    }

    .custom-navbar .nav-link:hover {
        color: #ffffff !important;
    }

    /* Offcanvas */
    .custom-offcanvas {
        background-color: #013220 !important;
        color: #FFD700;
    }

    /* Bottoni dorati */
    .btn-gold {
        background-color: #FFD700;
        color: #013220;
        border: none;
    }

    .btn-gold:hover {
        background-color: #e6c200;
        color: #fff;
    }

    /* Bordo oro */
    .btn-outline-gold {
        border: 1px solid #FFD700;
        color: #FFD700;
    }

    .btn-outline-gold:hover {
        background-color: #FFD700;
        color: #013220;
    }

    /* Dropdown premium */
    .custom-dropdown {
        background-color: #013220;
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(0,0,0,0.4);
        padding: 0.5rem 0;
        min-width: 200px;
        position: relative;
    }

    .custom-dropdown::before {
        content: "";
        position: absolute;
        top: -10px;
        right: 20px;
        border-width: 0 10px 10px 10px;
        border-style: solid;
        border-color: transparent transparent #013220 transparent;
    }

    .custom-dropdown .dropdown-item {
        color: #FFD700 !important;
        background-color: transparent !important;
        padding: 0.5rem 1rem;
        transition: background-color 0.3s, color 0.3s, transform 0.2s;
        border-radius: 8px;
    }

    .custom-dropdown .dropdown-item:hover,
    .custom-dropdown .dropdown-item:focus {
        background-color: #FFD700 !important;
        color: #013220 !important;
        transform: translateX(5px);
    }

    .custom-dropdown .dropdown-divider {
        border-top: 1px solid #025930;
        margin: 0.3rem 0;
    }

    /* Mobile */
    @media (max-width: 991px) {
        .phone-info {
            font-size: 0.85rem;
            white-space: normal;
            margin-top: 5px;
        }
        .phone-info .fa-phone {
            font-size: 0.9rem;
        }
    }
</style>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
