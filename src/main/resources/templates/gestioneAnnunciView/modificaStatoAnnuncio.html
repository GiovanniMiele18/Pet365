<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="it">


<head>

    <th:block th:include="fragments/head"></th:block>
    <title>Just Traditions - Annuncio</title>

    <link rel="stylesheet" href="https://unpkg.com/@adminkit/core@latest/dist/css/app.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
          rel="stylesheet">
    <!-- Carousel -->
    <link rel="stylesheet" href="/carousel/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/carousel/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="../../https://cdnjs.cloudflare.com/ajax/libs/ionicons/4.5.6/css/ionicons.min.css">
    <link rel="stylesheet" href="/carousel/css/animate.css">
    <link rel="stylesheet" href="/carousel/css/style.css">
    <!-- Vendor CSS Files -->
    <link href="/assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <!-- Template Main CSS File -->
    <link href="/assets/css/style.css" rel="stylesheet">


</head>
<body>

<div class="wrapper">
    <nav id="sidebar" class="sidebar js-sidebar">
        <div class="sidebar-content js-simplebar">
            <a class="sidebar-brand" href="/homeAmministratore">
                <span class="align-middle">Admin Just Traditions</span>
            </a>

            <ul class="sidebar-nav">
                <li class="sidebar-header">
                    Pages
                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/homeAmministratore">
                        <i class="align-middle" data-feather="sliders"></i> <span class="align-middle">Dashboard</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a class="sidebar-link" href="/logoutAmministratore">
                        <i class="align-middle" data-feather="log-out"></i> <span class="align-middle">Log out</span>
                    </a>
                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/visualizzazioneAmministratori">
                        <i class="align-middle" data-feather="users"></i> <span class="align-middle">Gestione Amministratori</span>
                    </a>
                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/visualizzazioneListaAnnunci">
                        <i class="align-middle" data-feather="inbox"></i> <span class="align-middle">Annunci</span>
                    </a>
                </li>
            </ul>
        </div>


    </nav>


    <div class="main">
        <nav class="navbar navbar-expand navbar-light navbar-bg">
            <a class="sidebar-toggle js-sidebar-toggle">
                <i class="hamburger align-self-center"></i>
            </a>

            <div class="navbar-collapse collapse">
                <ul class="navbar-nav navbar-align">
                    <a><strong>BENVENUTO</strong>
                        <span th:text="${amministratore.nome} + ' '+ ${amministratore.cognome}"></span>
                    </a>
                </ul>
            </div>
        </nav>

        <main id="main">


            <!-- ======= About Section ======= -->
            <section id="about" class="about">
                <div class="container">
                    <div class="content pt-4 pt-lg-0">
                        <input type="hidden" id="idAnnuncio" th:value="${annuncio.id}">
                        <h3>
                            <th:block th:text="${annuncio.nomeAttivita}"></th:block>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="slider-hero">
                                <div class="featured-carousel owl-carousel">
                                    <div class="item">
                                        <div class="work">
                                            <div class="img d-flex align-items-center justify-content-left"
                                                 th:style="'background-image: url('+@{/img(id=${annuncio.getFoto().get(0).id})}+');'">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="work">
                                            <div th:if="${annuncio.foto.size() >= 2}"
                                                 class="img d-flex align-items-center justify-content-left"
                                                 th:style="'background-image: url('+@{/img(id=${annuncio.getFoto().get(1).id})}+');'">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="work">
                                            <div th:if="${annuncio.foto.size() == 3}"
                                                 class="img d-flex align-items-center justify-content-left"
                                                 th:style="'background-image: url('+@{/img(id=${annuncio.getFoto().get(2).id})}+');'">

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="my-5 text-center">
                                    <ul class="thumbnail">
                                        <li class="active img"><a href="#"><img
                                                th:src="@{/img(id=${annuncio.getFoto().get(0).id})}" alt="Image"
                                                class="img-fluid"></a></li>
                                        <li><a href="#"><img th:if="${annuncio.foto.size() >= 2}"
                                                             th:src="@{/img(id=${annuncio.getFoto().get(1).id})}"
                                                             alt="Image"
                                                             class="img-fluid"></a></li>
                                        <li><a href="#"><img th:if="${annuncio.foto.size() == 3}"
                                                             th:src="@{/img(id=${annuncio.getFoto().get(2).id})}"
                                                             alt="Image"
                                                             class="img-fluid"></a></li>
                                    </ul>
                                </div>


                            </div>


                            <div class="col-lg-6 d-flex flex-column justify-contents-right" data-aos="fade-left">
                                <div class="content pt-4 pt-lg-0">
                                    <h3>Descrizione</h3>
                                    <p class="fst-italic" th:text="${annuncio.descrizione}"></p>

                                    <ul>
                                        <li><img src="https://img.icons8.com/color/30/null/place-marker--v1.png"
                                                 th:text="${annuncio.indirizzoAttivita}"/></li>
                                        <li><img src="https://img.icons8.com/color/30/null/place-marker--v1.png"
                                                 th:text="${annuncio.provinciaAttivita}"/></li>
                                        <li><img src="https://img.icons8.com/color/30/null/place-marker--v1.png"
                                                 th:text="'Servizi Offerti: '+ ${annuncio.serviziOfferti}"/></li>
                                        <li><img src="https://img.icons8.com/fluency/30/null/euro-pound-exchange.png"
                                                 th:text="${annuncio.prezzoVisita}"/></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section><!-- End About Section -->

            <!-- ======= Features Section ======= -->
            <section id="features" class="features">
                <div class="container">

                    <div class="row">
                        <div class="col-lg-6 mt-2 mb-tg-0 order-2 order-lg-1">
                            <ul class="nav nav-tabs flex-column">
                                <li class="nav-item" data-aos="fade-up">
                                    <a class="nav-link active show" data-bs-toggle="tab" href="#tab-1">
                                        <h4><img src="https://img.icons8.com/color/30/null/calendar--v3.png"/>Stato</h4>
                                        <p></p>
                                    </a>
                                </li>

                                <button type="submit" form="formModificaStato"
                                        class="btn btn-sm btn-primary btn-create">Modifica Stato
                                </button>
                            </ul>
                        </div>
                        <div class="col-lg-6 order-1 order-lg-2" data-aos="zoom-in">
                            <div class="tab-content">
                                <div class="tab-pane active show" id="tab-1">
                                    <form id="formModificaStato" action="/modificaStatoAnnuncio" method="post"
                                          th:object="${modificaStatoAnnuncioForm}">
                                        <select th:field="*{nuovoStato}">
                                            <option th:value="''">Nuovo Stato</option>
                                            <option th:if="${annuncio.getStato()} == ${annuncio.stato.IN_REVISIONE}"
                                                    th:value="${annuncio.stato.APPROVATO}">APPROVATO
                                            </option>
                                            <option th:if="${annuncio.getStato()} == ${annuncio.stato.PROPOSTO} or ${annuncio.getStato()} == ${annuncio.stato.APPROVATO} "
                                                    th:value="${annuncio.stato.IN_REVISIONE}">IN REVISIONE
                                            </option>
                                            <option th:if="${annuncio.getStato()} == ${annuncio.stato.IN_REVISIONE}"
                                                    th:value="${annuncio.stato.RIFIUTATO}">RIFIUTATO
                                            </option>
                                        </select>
                                        <div th:style="${modificaStatoAnnuncioForm.nuovoStato != null and modificaStatoAnnuncioForm.nuovoStato == modificaStatoAnnuncioForm.nuovoStato.RIFIUTATO ? '' : 'display:none'}"
                                             id="divMotivo">Motivo del rifiuto<br><textarea type="text-area"
                                                                                            th:field="*{motivoDelRifiuto}"></textarea>
                                            <div class=" d-inline invalid-feedback "
                                                 th:if="${#fields.hasErrors('motivoDelRifiuto')}"
                                                 th:errors="*{motivoDelRifiuto}"></div>
                                        </div>
                                        <div th:if="${#fields.hasGlobalErrors()}">
                                            <p class="d-inline invalid-feedback"
                                               th:each="err : ${#fields.globalErrors()}"
                                               th:text="${err}"></p>
                                        </div>

                                        <input type="hidden" th:field="*{idAnnuncio}">
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </section><!-- End Features Section -->


            <!-- ======= Team Section ======= -->
            <section id="team" class="team">
                <div class="container">

                    <div class="section-title" data-aos="fade-up">
                        <h2>Team</h2>
                        <p>Passione, Amore e Seriet&agrave;.</p>
                    </div>


                    <div class="row">

                        <div class="col-lg-4 col-md-6">
                            <div class="member" data-aos="zoom-in">
                                <div class="member-info">
                                    <a th:text="${annuncio.artigiano.nome}"></a>
                                    <a th:text="${annuncio.artigiano.cognome}"></a>
                                    <span>L'Artigiano</span>
                                </div>
                            </div>
                        </div>


                    </div>

                </div>
            </section><!-- End Team Section -->


        </main><!-- End #main -->


    </div>
</div>

<!--  Footbar  -->
<th:block th:include="fragments/footbar"></th:block>
<th:block th:include="fragments/scripts"></th:block>
<script src="https://unpkg.com/@adminkit/core@latest/dist/js/app.js"></script>
<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><img
        src="https://img.icons8.com/material-rounded/29/FFFFFF/circled-chevron-up.png"/></a>

<!-- Vendor JS Files -->
<script src="/assets/vendor/aos/aos.js"></script>
<script src="/assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="/assets/vendor/swiper/swiper-bundle.min.js"></script>

<!-- Template Main JS File -->
<script src="/carousel/js/main.js"></script>
<script src="/carousel/js/jquery.min.js"></script>
<script src="/carousel/js/popper.js"></script>
<script src="/carousel/js/owl.carousel.min.js"></script>
<script src="/carousel/js/main.js"></script>
<script src="/assets/js/main.js"></script>
<script src="/js/modificaStatoAnnuncio.js"></script>


</body>

</html>